{"ast":null,"code":"var _jsxFileName = \"E:\\\\QuanLyKiosk\\\\client\\\\src\\\\Pages\\\\KioskPlanPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { getAllPlans, deletePlan, importExcel } from \"../services/kioskPlanApi\";\nimport KioskPlanTable from \"./components/KioskPlanTable\";\nimport ImportExcelButton from \"..ImportExcelButton/components/ImportExcelButton\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst KioskPlanPage = () => {\n  _s();\n  const [plans, setPlans] = useState([]);\n  const fetchPlans = async () => {\n    const res = await getAllPlans();\n    setPlans(res.data);\n  };\n  const handleDelete = async id => {\n    if (window.confirm(\"Xác nhận xoá bản ghi?\")) {\n      await deletePlan(id);\n      fetchPlans();\n    }\n  };\n  const handleFileUpload = async file => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    await importExcel(formData);\n    fetchPlans();\n  };\n  useEffect(() => {\n    fetchPlans();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-gray-800\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-semibold mb-4\",\n      children: \"Qu\\u1EA3n l\\xFD k\\u1EBF ho\\u1EA1ch Kiosk\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImportExcelButton, {\n      onFileSelect: handleFileUpload\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(KioskPlanTable, {\n      data: plans,\n      onDelete: handleDelete,\n      onEdit: data => alert(\"TODO: Edit\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n_s(KioskPlanPage, \"39TCQbBdUJc805RKzFp5pVsi5Ag=\");\n_c = KioskPlanPage;\nexport default KioskPlanPage;\nvar _c;\n$RefreshReg$(_c, \"KioskPlanPage\");","map":{"version":3,"names":["React","useEffect","useState","getAllPlans","deletePlan","importExcel","KioskPlanTable","ImportExcelButton","jsxDEV","_jsxDEV","KioskPlanPage","_s","plans","setPlans","fetchPlans","res","data","handleDelete","id","window","confirm","handleFileUpload","file","formData","FormData","append","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onFileSelect","onDelete","onEdit","alert","_c","$RefreshReg$"],"sources":["E:/QuanLyKiosk/client/src/Pages/KioskPlanPage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getAllPlans, deletePlan, importExcel } from \"../services/kioskPlanApi\";\r\nimport KioskPlanTable from \"./components/KioskPlanTable\";\r\nimport ImportExcelButton from \"..ImportExcelButton/components/ImportExcelButton\";\r\n\r\nconst KioskPlanPage = () => {\r\n  const [plans, setPlans] = useState([]);\r\n\r\n  const fetchPlans = async () => {\r\n    const res = await getAllPlans();\r\n    setPlans(res.data);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Xác nhận xoá bản ghi?\")) {\r\n      await deletePlan(id);\r\n      fetchPlans();\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = async (file) => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    await importExcel(formData);\r\n    fetchPlans();\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPlans();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6 text-gray-800\">\r\n      <h2 className=\"text-xl font-semibold mb-4\">Quản lý kế hoạch Kiosk</h2>\r\n      <ImportExcelButton onFileSelect={handleFileUpload} />\r\n      <KioskPlanTable data={plans} onDelete={handleDelete} onEdit={(data) => alert(\"TODO: Edit\")} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default KioskPlanPage;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,EAAEC,UAAU,EAAEC,WAAW,QAAQ,0BAA0B;AAC/E,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,iBAAiB,MAAM,kDAAkD;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjF,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC1B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMY,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,GAAG,GAAG,MAAMZ,WAAW,EAAE;IAC/BU,QAAQ,CAACE,GAAG,CAACC,IAAI,CAAC;EACpB,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,EAAE,IAAK;IACjC,IAAIC,MAAM,CAACC,OAAO,CAAC,uBAAuB,CAAC,EAAE;MAC3C,MAAMhB,UAAU,CAACc,EAAE,CAAC;MACpBJ,UAAU,EAAE;IACd;EACF,CAAC;EAED,MAAMO,gBAAgB,GAAG,MAAOC,IAAI,IAAK;IACvC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAC7B,MAAMjB,WAAW,CAACkB,QAAQ,CAAC;IAC3BT,UAAU,EAAE;EACd,CAAC;EAEDb,SAAS,CAAC,MAAM;IACda,UAAU,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEL,OAAA;IAAKiB,SAAS,EAAC,mBAAmB;IAAAC,QAAA,gBAChClB,OAAA;MAAIiB,SAAS,EAAC,4BAA4B;MAAAC,QAAA,EAAC;IAAsB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAK,eACtEtB,OAAA,CAACF,iBAAiB;MAACyB,YAAY,EAAEX;IAAiB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eACrDtB,OAAA,CAACH,cAAc;MAACU,IAAI,EAAEJ,KAAM;MAACqB,QAAQ,EAAEhB,YAAa;MAACiB,MAAM,EAAGlB,IAAI,IAAKmB,KAAK,CAAC,YAAY;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC1F;AAEV,CAAC;AAACpB,EAAA,CAjCID,aAAa;AAAA0B,EAAA,GAAb1B,aAAa;AAmCnB,eAAeA,aAAa;AAAC,IAAA0B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}